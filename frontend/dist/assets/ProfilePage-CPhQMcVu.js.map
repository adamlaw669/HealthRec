{"version":3,"file":"ProfilePage-CPhQMcVu.js","sources":["../../app/features/profile/ProfilePage.tsx"],"sourcesContent":["\"use client\"\n\nimport React, { useState, useEffect, useRef } from \"react\"\nimport { useNavigate } from \"react-router-dom\"\nimport { FaCamera, FaDownload, FaSun, FaMoon } from \"react-icons/fa\"\nimport { authAPI, healthAPI } from \"../../api/api\"\nimport Sidebar from \"../../components/Sidebar\"\nimport { useSidebar } from \"../../context/SidebarContext\"\n//import { useUser } from \"../../context/UserContext\"\nimport { getInitialTheme, toggleTheme } from \"../../utils/theme-utils\"\n\ninterface Profile {\n  name: string;\n  email: string;\n  profilePicture?: string;\n}\n\ninterface ProfileData {\n  name: string;\n  email: string;\n  profilePicture?: string;\n}\n\nexport default function ProfilePage() {\n  const { isSidebarOpen } = useSidebar()\n  const navigate = useNavigate()\n  const [user, setUser] = useState<Profile>({\n    email: \"\",\n    name: \"\",\n    profilePicture: \"/images/dark_blue.jpg\"\n  })\n  const [isLoading, setIsLoading] = useState(true)\n  const [isEditing, setIsEditing] = useState(false)\n  const [formData, setFormData] = useState({ name: \"\" })\n  const [darkMode, setDarkMode] = useState(false)\n  const [downloadFormat, setDownloadFormat] = useState<\"json\" | \"csv\">(\"json\")\n  const [isDownloading, setIsDownloading] = useState(false)\n  const fileInputRef = useRef<HTMLInputElement>(null)\n\n  // Initialize theme on component mount\n  useEffect(() => {\n    const initialDarkMode = getInitialTheme()\n    setDarkMode(initialDarkMode)\n  }, [])\n\n  const handleToggleTheme = () => {\n    const newDarkMode = toggleTheme(darkMode)\n    setDarkMode(newDarkMode)\n  }\n\n  // Fetch user details on page load\n  useEffect(() => {\n    const fetchUser = async () => {\n      setIsLoading(true)\n      try {\n        const data = await authAPI.getProfile() as ProfileData\n        if (data) {\n          setUser({\n            email: data.email || \"\",\n            name: data.name || \"User\",\n            profilePicture: data.profilePicture || \"/images/dark_blue.jpg\",\n          })\n          setFormData({ name: data.name || \"User\" })\n        }\n      } catch (error) {\n        console.error(\"Error fetching user data:\", error)\n        // If unauthorized, redirect to login\n        if ((error instanceof Error ? error.message:'Unknown').toString().includes(\"401\")) {\n          navigate(\"/auth?mode=signin\")\n        }\n      } finally {\n        setIsLoading(false)\n      }\n    }\n\n    fetchUser()\n  }, [navigate])\n\n  // Handle form input changes\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target\n    setFormData({ ...formData, [name]: value })\n  }\n\n  // Handle profile update\n  const handleProfileUpdate = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setIsLoading(true)\n    try {\n      const response = await authAPI.updateProfile({ \n        name: formData.name\n      })\n      \n      if (response && response.success) {\n        setUser(prev => ({ \n          ...prev, \n          name: formData.name\n        }))\n        setIsEditing(false)\n        // Show success message\n        alert(response.message || \"Profile updated successfully!\")\n      } else {\n        throw new Error(response?.message || \"Failed to update profile\")\n      }\n    } catch (error) {\n      console.error(\"Error updating profile:\", error)\n      // Show error message to user\n      alert(error instanceof Error ? error.message : \"Failed to update profile. Please try again.\")\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  // Handle profile picture change\n  const handleProfilePictureClick = () => {\n    if (fileInputRef.current) {\n      fileInputRef.current.click()\n    }\n  }\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files && e.target.files[0]) {\n      // In a real app, you would upload this file to your server\n      // For now, we'll just create a local URL for preview\n      const reader = new FileReader()\n      reader.onload = (event) => {\n        if (event.target && event.target.result) {\n          setUser({ ...user, profilePicture: event.target.result.toString() })\n        }\n      }\n      reader.readAsDataURL(e.target.files[0])\n    }\n  }\n\n  // Handle data download\n  const handleDownloadData = async () => {\n    setIsDownloading(true)\n    try {\n      const response = await healthAPI.downloadHealthData(downloadFormat)\n      const blob = new Blob([response], { \n        type: downloadFormat === 'json' ? 'application/json' : 'text/csv'\n      })\n      const url = window.URL.createObjectURL(blob)\n      const a = document.createElement(\"a\")\n      a.href = url\n      a.download = `health-data.${downloadFormat}`\n      document.body.appendChild(a)\n      a.click()\n      window.URL.revokeObjectURL(url)\n      document.body.removeChild(a)\n    } catch (error) {\n      console.error(\"Error downloading data:\", error)\n    } finally {\n      setIsDownloading(false)\n    }\n  }\n\n  // Logout function\n  const handleLogout = async () => {\n    try {\n      await authAPI.logout()  // optional: only if you have a backend logout\n    } catch (error) {\n      console.error(\"Error during logout:\", error)\n    } finally {\n      localStorage.clear()\n      navigate(\"/\")\n    }\n  }\n\n  return (\n    <div className=\"flex min-h-screen bg-gray-100 dark:bg-gray-900\">\n      {/* Sidebar Component */}\n      <Sidebar />\n\n      {/* Main Content Area */}\n      <main className={`flex-1 transition-all duration-300 ${isSidebarOpen ? \"ml-64\" : \"ml-20\"} p-6 overflow-auto`}>\n        <div className=\"max-w-4xl mx-auto\">\n          {/* Header with theme toggle */}\n          <div className=\"flex justify-between items-center mb-6\">\n            <h1 className=\"text-2xl font-bold text-gray-800 dark:text-white\">Profile</h1>\n            <button\n              onClick={handleToggleTheme}\n              className=\"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-full transition-colors\"\n              aria-label={darkMode ? \"Switch to light mode\" : \"Switch to dark mode\"}\n            >\n              {darkMode ? <FaSun className=\"h-5 w-5\" /> : <FaMoon className=\"h-5 w-5\" />}\n            </button>\n          </div>\n\n          {isLoading ? (\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700\">\n              <div className=\"flex justify-center items-center h-32\">\n                <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600\"></div>\n              </div>\n            </div>\n          ) : (\n            <>\n              {/* Profile Card */}\n              <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6 border border-gray-200 dark:border-gray-700\">\n                <div className=\"flex flex-col md:flex-row items-center md:items-start space-y-4 md:space-y-0 md:space-x-6\">\n                  {/* Profile Picture */}\n                  <div className=\"relative\">\n                    <div\n                      className=\"w-32 h-32 rounded-full overflow-hidden border-4 border-blue-600 dark:border-blue-500 cursor-pointer\"\n                      onClick={handleProfilePictureClick}\n                    >\n                      <img\n                        src={user.profilePicture || \"/placeholder.svg?height=200&width=200\"}\n                        alt=\"Profile\"\n                        className=\"w-full h-full object-cover\"\n                      />\n                      <div className=\"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-30 flex items-center justify-center transition-all duration-200\">\n                        <FaCamera className=\"text-white opacity-0 hover:opacity-100 text-2xl\" />\n                      </div>\n                    </div>\n                    <input\n                      type=\"file\"\n                      ref={fileInputRef}\n                      className=\"hidden\"\n                      accept=\"image/*\"\n                      onChange={handleFileChange}\n                    />\n                  </div>\n\n                  {/* Profile Info */}\n                  <div className=\"flex-1 text-center md:text-left\">\n                    {isEditing ? (\n                      <form onSubmit={handleProfileUpdate} className=\"space-y-4\">\n                        <div>\n                          <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n                            Name\n                          </label>\n                          <input\n                            type=\"text\"\n                            id=\"name\"\n                            name=\"name\"\n                            value={formData.name}\n                            onChange={handleInputChange}\n                            className=\"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white\"\n                            required\n                          />\n                        </div>\n                        <div className=\"flex space-x-4\">\n                          <button\n                            type=\"submit\"\n                            disabled={isLoading}\n                            className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n                          >\n                            {isLoading ? \"Saving...\" : \"Save Changes\"}\n                          </button>\n                          <button\n                            type=\"button\"\n                            onClick={() => {\n                              setIsEditing(false)\n                              setFormData({ name: user.name })\n                            }}\n                            className=\"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-300 dark:hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\"\n                          >\n                            Cancel\n                          </button>\n                        </div>\n                      </form>\n                    ) : (\n                      <div className=\"space-y-4\">\n                        <div>\n                          <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white\">{user.name}</h2>\n                          <p className=\"text-gray-600 dark:text-gray-400\">{user.email}</p>\n                        </div>\n                        <button\n                          onClick={() => setIsEditing(true)}\n                          className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\"\n                        >\n                          Edit Profile\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              {/* Download Health Data */}\n              <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6 border border-gray-200 dark:border-gray-700\">\n                <h2 className=\"text-xl font-bold text-gray-800 dark:text-white mb-4\">Download Your Health Data</h2>\n                <p className=\"text-gray-600 dark:text-gray-300 mb-6\">\n                  You can download all your health data in various formats for your records or to share with healthcare\n                  providers. Your data is encrypted and secure.\n                </p>\n\n                <div className=\"flex flex-col sm:flex-row items-center space-y-3 sm:space-y-0 sm:space-x-3\">\n                  <select\n                    value={downloadFormat}\n                    onChange={(e) => setDownloadFormat(e.target.value as \"json\" | \"csv\")}\n                    className=\"w-full sm:w-auto p-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white\"\n                  >\n                    <option value=\"json\">JSON Format</option>\n                    <option value=\"csv\">CSV Format</option>\n                  </select>\n\n                  <button\n                    onClick={handleDownloadData}\n                    disabled={isDownloading}\n                    className=\"w-full sm:w-auto flex items-center justify-center px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition disabled:bg-blue-400 disabled:cursor-not-allowed\"\n                  >\n                    {isDownloading ? (\n                      <>\n                        <svg\n                          className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\"\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          fill=\"none\"\n                          viewBox=\"0 0 24 24\"\n                        >\n                          <circle\n                            className=\"opacity-25\"\n                            cx=\"12\"\n                            cy=\"12\"\n                            r=\"10\"\n                            stroke=\"currentColor\"\n                            strokeWidth=\"4\"\n                          ></circle>\n                          <path\n                            className=\"opacity-75\"\n                            fill=\"currentColor\"\n                            d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                          ></path>\n                        </svg>\n                        Downloading...\n                      </>\n                    ) : (\n                      <>\n                        <FaDownload className=\"mr-2\" />\n                        Download Data\n                      </>\n                    )}\n                  </button>\n                </div>\n              </div>\n\n              {/* Action Section */}\n              <div className=\"flex space-x-4\">\n                <button\n                  onClick={handleLogout}\n                  className=\"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition\"\n                >\n                  Logout\n                </button>\n                <button\n                  onClick={() => navigate(\"/settings\")}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition\"\n                >\n                  Settings\n                </button>\n              </div>\n            </>\n          )}\n        </div>\n      </main>\n    </div>\n  )\n}\n\n"],"names":["ProfilePage","isSidebarOpen","useSidebar","navigate","useNavigate","user","setUser","useState","isLoading","setIsLoading","isEditing","setIsEditing","formData","setFormData","darkMode","setDarkMode","downloadFormat","setDownloadFormat","isDownloading","setIsDownloading","fileInputRef","useRef","useEffect","initialDarkMode","getInitialTheme","handleToggleTheme","newDarkMode","toggleTheme","data","authAPI","error","handleInputChange","e","name","value","handleProfileUpdate","response","prev","handleProfilePictureClick","handleFileChange","reader","event","handleDownloadData","healthAPI","blob","url","a","handleLogout","jsxs","jsx","Sidebar","FaSun","FaMoon","Fragment","FaCamera","FaDownload"],"mappings":"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"}