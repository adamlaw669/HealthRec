import{b as l,j as e,h as w,f as le,c as ne,L as P,t as ie}from"./index-TQdBg8Zg.js";import{S as oe}from"./Sidebar-hTNdrGUa.js";import{C as de,r as ce,L as me,B as ue,D as he}from"./index-DwUbQazq.js";import{f as ge,g as xe,h as be,i as ye,F as fe,a as pe,d as L,j as ve,k as z,l as _,m as q,n as U,o as G,p as J,q as je}from"./index-CCjtcycM.js";import{c as we,a as K,A as ke}from"./utils-C_fRSlJE.js";de.register(...ce);function Z(s,r){if(typeof s=="function")return s(r);s!=null&&(s.current=r)}function Ne(...s){return r=>{let a=!1;const n=s.map(i=>{const o=Z(i,r);return!a&&typeof o=="function"&&(a=!0),o});if(a)return()=>{for(let i=0;i<n.length;i++){const o=n[i];typeof o=="function"?o():Z(s[i],null)}}}}var Q=l.forwardRef((s,r)=>{const{children:a,...n}=s,i=l.Children.toArray(a),o=i.find(Ce);if(o){const m=o.props.children,x=i.map(v=>v===o?l.Children.count(m)>1?l.Children.only(null):l.isValidElement(m)?m.props.children:null:v);return e.jsx(B,{...n,ref:r,children:l.isValidElement(m)?l.cloneElement(m,void 0,x):null})}return e.jsx(B,{...n,ref:r,children:a})});Q.displayName="Slot";var B=l.forwardRef((s,r)=>{const{children:a,...n}=s;if(l.isValidElement(a)){const i=Me(a),o=Ae(n,a.props);return a.type!==l.Fragment&&(o.ref=r?Ne(r,i):i),l.cloneElement(a,o)}return l.Children.count(a)>1?l.Children.only(null):null});B.displayName="SlotClone";var Se=({children:s})=>e.jsx(e.Fragment,{children:s});function Ce(s){return l.isValidElement(s)&&s.type===Se}function Ae(s,r){const a={...r};for(const n in r){const i=s[n],o=r[n];/^on[A-Z]/.test(n)?i&&o?a[n]=(...x)=>{o(...x),i(...x)}:i&&(a[n]=i):n==="style"?a[n]={...i,...o}:n==="className"&&(a[n]=[i,o].filter(Boolean).join(" "))}return{...s,...a}}function Me(s){var n,i;let r=(n=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:n.get,a=r&&"isReactWarning"in r&&r.isReactWarning;return a?s.ref:(r=(i=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:i.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a?s.props.ref:s.props.ref||s.ref)}const $=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,Y=we,Re=(s,r)=>a=>{var n;if((r==null?void 0:r.variants)==null)return Y(s,a==null?void 0:a.class,a==null?void 0:a.className);const{variants:i,defaultVariants:o}=r,m=Object.keys(i).map(u=>{const b=a==null?void 0:a[u],k=o==null?void 0:o[u];if(b===null)return null;const f=$(b)||$(k);return i[u][f]}),x=a&&Object.entries(a).reduce((u,b)=>{let[k,f]=b;return f===void 0||(u[k]=f),u},{}),v=r==null||(n=r.compoundVariants)===null||n===void 0?void 0:n.reduce((u,b)=>{let{class:k,className:f,...h}=b;return Object.entries(h).every(D=>{let[S,A]=D;return Array.isArray(A)?A.includes({...o,...x}[S]):{...o,...x}[S]===A})?[...u,k,f]:u},[]);return Y(s,m,v,a==null?void 0:a.class,a==null?void 0:a.className)},Fe=Re("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),X=l.forwardRef(({className:s,variant:r,size:a,asChild:n=!1,...i},o)=>{const m=n?Q:"button";return e.jsx(m,{className:K(Fe({variant:r,size:a,className:s})),ref:o,...i})});X.displayName="Button";const ee=l.forwardRef(({className:s,type:r,...a},n)=>e.jsx("input",{type:r,className:K("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:n,...a}));ee.displayName="Input";function Ee(){const[s,r]=l.useState(""),[a,n]=l.useState(null),[i,o]=l.useState(!1),[m,x]=l.useState(!1),[v,u]=l.useState(null),[b,k]=l.useState([]),[f]=l.useState([{type:"Blood Pressure",example:"My blood pressure is 120/80"},{type:"Blood Sugar",example:"My blood sugar is 108 mg/dL"},{type:"Heart Rate",example:"My heart rate is 72 bpm"},{type:"Respiratory Rate",example:"My breathing rate is 16 breaths per minute"},{type:"Body Temperature",example:"My temperature is 37.2°C"},{type:"Oxygen Saturation",example:"My oxygen level is 98%"}]),[h,D]=l.useState(!1),S=c=>{const y=c.replace(/^Hey there!\s*/,"").replace(/\*\*/g,"").trim().split(/(?=\d+\.)/).filter(Boolean).map(j=>j.trim());let N="Analyzing your measurements...",C="Analyzing normal ranges...",M="Analyzing health implications...",H="Preparing recommendations...",O="This information is for educational purposes only and not a substitute for professional medical advice. Always consult with a healthcare provider for proper diagnosis and treatment.";return y.forEach(j=>{const R=j.replace(/^\d+\.\s+/,"").trim();j.match(/^1\./)?N=R:j.match(/^2\./)?C=R:j.match(/^3\./)?M=R:j.match(/^4\./)?H=R:j.match(/^5\./)&&(O=R)}),console.log("Parsed sections:",{measurements:N,normalRanges:C,implications:M,recommendations:H,medicalAdvice:O}),{measurements:{title:"Understanding Your Measurements",content:N},normalRanges:{title:"Normal Ranges",content:C},implications:{title:"What This Means",content:M},recommendations:{title:"Recommendations",content:H},medicalAdvice:{title:"Medical Advice",content:O}}},A=async c=>{if(c.preventDefault(),!!s.trim()){o(!0);try{console.log("Sending request to health interpreter:",s);const g=await w.explainHealthMetric(s);if(console.log("Received response from health interpreter:",g),g.error)throw new Error(g.error);const y=S(g.explanation);console.log("Parsed response:",y),n(y),k(N=>[...N,{question:s,response:y}]),x(!0),localStorage.setItem("healthHistory",JSON.stringify([...b,{question:s,response:y}]))}catch(g){console.error("Error in handleSubmit:",g)}o(!1),r("")}},I=c=>{u(v===c?null:c)},W=c=>{r(c),D(h!==!0)};return e.jsxs(e.Fragment,{children:[e.jsx("button",{"data-health-interpreter":!0,onClick:()=>x(!0),className:"hidden","aria-hidden":"true"}),m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[1000]",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg w-full max-w-2xl max-h-[80vh] flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Health Metrics Interpreter"}),e.jsx("button",{onClick:()=>x(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 p-2",children:e.jsx(ge,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"overflow-y-auto flex-1 scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Enter your health measurements or click a suggestion below:"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:f.map((c,g)=>e.jsx("button",{onClick:()=>W(c.example),className:"text-xs bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-3 py-1 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/50 transition-colors",children:c.type},g))})]}),e.jsx("form",{onSubmit:A,className:"mb-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ee,{value:s,onChange:c=>r(c.target.value),placeholder:"Enter your health metrics (e.g., 'My blood pressure is 120/80')",className:"flex-1",disabled:i}),e.jsx(X,{type:"submit",disabled:i,children:i?"Analyzing...":"Ask"})]})}),a&&e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg",children:Object.values(a).map((c,g)=>e.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("button",{onClick:()=>I(c.title),className:"flex justify-between items-center w-full px-4 py-3 text-left",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:c.title}),v===c.title?e.jsx(xe,{}):e.jsx(be,{})]}),v===c.title&&e.jsx("div",{className:"px-4 py-3 text-gray-700 dark:text-gray-300",children:c.content})]},g))}),b.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ye,{}),e.jsx("h3",{className:"font-medium",children:"Previous Questions"})]}),e.jsx("div",{className:"space-y-2",children:b.slice(-3).map((c,g)=>e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 cursor-pointer hover:text-blue-600",onClick:()=>{n(c.response),u("measurements")},children:c.question},g))})]})]})})]})})]})}function Te(){const{isSidebarOpen:s}=le(),[r,a]=l.useState(!1),[n,i]=l.useState({summary:"Connect your health tracking devices to get personalized recommendations.",insights:["We'll analyze your health data to provide tailored insights.","Track your daily activities to receive AI-powered health advice.","Your data helps us understand your habits and suggest improvements.","Enable Google Fit sync for real-time health monitoring."]}),[o,m]=l.useState(["Walking boosts your immune function.","Sleep helps regulate hormones.","Staying active reduces stress."]),[x,v]=l.useState({labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],datasets:[{label:"Steps",data:[4e3,6e3,5e3,7e3,6500,8e3,5346],borderColor:"#1e3a8a",backgroundColor:"rgba(30, 58, 138, 0.2)",tension:.4}]}),[u,b]=l.useState(!0),[k,f]=l.useState(!1),[h,D]=l.useState({steps:{value:5346,trend:"stable"},sleep:{value:7,trend:"stable"},heartRate:{value:67,trend:"stable"},weight:{value:57,trend:"stable"},calories:{value:83,trend:"stable"},activeMinutes:{value:53,trend:"stable"}}),[S,A]=l.useState(!1),[I,W]=l.useState(null),[c,g]=l.useState(!1),[y,N]=l.useState(null),[C,M]=l.useState(""),[H,O]=l.useState(!1),[j,R]=l.useState({labels:[],datasets:[{data:[],backgroundColor:["rgba(30, 58, 138, 0.6)","rgba(59, 130, 246, 0.6)","rgba(99, 102, 241, 0.6)","rgba(139, 92, 246, 0.6)"],borderColor:["rgba(30, 58, 138, 1)","rgba(59, 130, 246, 1)","rgba(99, 102, 241, 1)","rgba(139, 92, 246, 1)"],borderWidth:1}]}),[te,ae]=l.useState({labels:[],datasets:[{label:"Active Minutes",data:[],backgroundColor:"rgba(30, 58, 138, 0.6)"}]});l.useEffect(()=>{const d=localStorage.getItem("user");let p="";if(d)try{const E=JSON.parse(d);p=(E==null?void 0:E.username)||"Guest"}catch(E){console.error("Error parsing user data:",E),p="Guest"}else p="Guest";console.log("Current username:",p);const F=ne();a(F),F?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[]);const se=()=>{const d=ie(r);a(d)};l.useEffect(()=>{(async()=>{var p;b(!0);try{const F=localStorage.getItem("user");if(!F){console.error("No user data found in localStorage");return}const{username:E}=JSON.parse(F);console.log("Fetching recommendations for username:",E);try{const t=await w.getHealthRecommendation();(p=t==null?void 0:t.recommendations)!=null&&p.general&&(i(t.recommendations.general),f(!0))}catch(t){console.error("Failed to fetch AI recommendations:",t.message),i({summary:"Unable to fetch recommendations. Please check your connection.",insights:["Make sure you have granted all necessary permissions.","Try refreshing the page.","Check your internet connection and try again.","Contact support if the issue persists."]}),f(!1)}try{const t=await w.getHealthFacts();t&&t.facts?m(t.facts):m([])}catch(t){console.error("Error fetching health facts:",t),m([])}try{const t=await w.getMetrics();D({steps:{value:t.steps||0,trend:"stable"},sleep:{value:t.sleep||0,trend:"stable"},heartRate:{value:t.heart_rate||0,trend:"stable"},weight:{value:t.weight||0,trend:"stable"},calories:{value:t.calories||0,trend:"stable"},activeMinutes:{value:t.activity_minutes||0,trend:"stable"}})}catch(t){console.error("Error fetching metrics data:",t)}try{const t=await w.getMetricsChart("steps");t&&t.labels&&t.values&&v({labels:t.labels,datasets:[{label:"Steps",data:t.values,borderColor:"#1e3a8a",backgroundColor:"rgba(30, 58, 138, 0.2)",tension:.4}]})}catch(t){console.error("Error fetching steps data:",t)}try{const t=await w.getActivityData();t&&t.labels&&t.values&&ae({labels:t.labels,datasets:[{label:"Active Minutes",data:t.values,backgroundColor:"rgba(30, 58, 138, 0.6)"}]})}catch(t){console.error("Error fetching activity data:",t)}try{const t=await w.getSleepData();t&&t.labels&&t.values&&R({labels:t.labels,datasets:[{data:t.values,backgroundColor:["rgba(30, 58, 138, 0.6)","rgba(59, 130, 246, 0.6)","rgba(99, 102, 241, 0.6)","rgba(139, 92, 246, 0.6)"],borderColor:["rgba(30, 58, 138, 1)","rgba(59, 130, 246, 1)","rgba(99, 102, 241, 1)","rgba(139, 92, 246, 1)"],borderWidth:1}]})}catch(t){console.error("Error fetching sleep data:",t)}try{const t=await w.getWeeklySummary();t&&t.summary?W({summary:t.summary,trends:t.trends||{steps:0,sleep:0,heart_rate:0,weight:0,calories:0,active_minutes:0},status:t.status||"success"}):W(null)}catch(t){console.error("Error fetching weekly summary:",t),W(null)}}catch(F){console.error("Error fetching dashboard data:",F),i({summary:"Unable to fetch recommendations. Please check your connection.",insights:["Make sure you have granted all necessary permissions.","Try refreshing the page.","Check your internet connection and try again.","Contact support if the issue persists."]}),f(!1),m([]),v({labels:[],datasets:[{label:"Steps",data:[],borderColor:"#1e3a8a",backgroundColor:"rgba(30, 58, 138, 0.2)",tension:.4}]}),W(null)}finally{b(!1)}})()},[]);const T=d=>{switch(d){case"up":return e.jsx("span",{className:"text-green-500",children:"↑"});case"down":return e.jsx("span",{className:"text-red-500",children:"↓"});case"stable":return e.jsx("span",{className:"text-blue-500",children:"→"});default:return null}},V=async d=>{N(d),g(!1)},re=async()=>{if(!(!y||!C)){O(!0);try{await w.addMetric(y,parseFloat(C)),M(""),N(null);const d=await w.getMetrics();D({steps:{value:d.steps||0,trend:"stable"},sleep:{value:d.sleep||0,trend:"stable"},heartRate:{value:d.heart_rate||0,trend:"stable"},weight:{value:d.weight||0,trend:"stable"},calories:{value:d.calories||0,trend:"stable"},activeMinutes:{value:d.activity_minutes||0,trend:"stable"}})}catch(d){console.error("Error adding metric:",d)}finally{O(!1)}}};return e.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsx(oe,{}),e.jsxs("div",{className:`flex-1 transition-all duration-300 ${s?"ml-64":"ml-24"} p-8 overflow-y-auto`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-semibold text-gray-800 dark:text-white",children:"Dashboard"}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx("button",{onClick:se,className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-full transition-colors","aria-label":r?"Switch to light mode":"Switch to dark mode",children:r?e.jsx(fe,{className:"h-5 w-5"}):e.jsx(pe,{className:"h-5 w-5"})})})]}),e.jsx(Ee,{}),u?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-600 to-blue-800 dark:from-blue-800 dark:to-blue-900 rounded-lg shadow-lg text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(L,{className:"text-2xl mr-3"}),e.jsx("h2",{className:"text-xl font-bold",children:"AI Health Recommendations"})]}),e.jsx(ke,{isOnline:k})]}),n&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-lg mb-4",children:n.summary}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Additional Insights:"}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:n.insights.map((d,p)=>e.jsx("li",{children:d},p))})]})]}),e.jsxs("div",{className:"mt-4 text-sm text-blue-100",children:[e.jsx(ve,{className:"inline-block mr-1"}),"Recommendations are personalized based on your health data and goals"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(P,{to:"/metrics/steps",className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(z,{className:"text-blue-600 text-2xl mr-3"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Steps"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[h.steps.value.toLocaleString()," ",T(h.steps.trend)]})]})]})})}),e.jsx(P,{to:"/metrics/sleep",className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(_,{className:"text-indigo-600 text-2xl mr-3"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Sleep"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[h.sleep.value," hrs ",T(h.sleep.trend)]})]})]})})}),e.jsx(P,{to:"/metrics/heart-rate",className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(q,{className:"text-red-600 text-2xl mr-3"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Heart Rate"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[h.heartRate.value," bpm ",T(h.heartRate.trend)]})]})]})})}),e.jsx(P,{to:"/metrics/weight",className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(U,{className:"text-green-600 text-2xl mr-3"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Weight"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[h.weight.value," kg ",T(h.weight.trend)]})]})]})})}),e.jsx(P,{to:"/metrics/calories",className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(G,{className:"text-orange-600 text-2xl mr-3"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Calories"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[h.calories.value," kcal ",T(h.calories.trend)]})]})]})})}),e.jsx(P,{to:"/metrics/active-minutes",className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(J,{className:"text-emerald-600 text-2xl mr-3"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Active Minutes"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[h.activeMinutes.value," min ",T(h.activeMinutes.trend)]})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:"Weekly Steps"}),x?e.jsx(me,{data:x,options:{responsive:!0,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!1,grid:{color:r?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}},x:{grid:{display:!1}}}}}):e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Loading chart data..."})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:"Weekly Activity"}),e.jsx(ue,{data:te,options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:r?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"},title:{display:!0,text:"Minutes"}},x:{grid:{display:!1}}}}})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:"Sleep Breakdown"}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{style:{width:"70%",height:"auto"},children:e.jsx(he,{data:j,options:{responsive:!0,plugins:{legend:{position:"right",labels:{color:r?"#f3f4f6":"#1f2937"}}}}})})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:"Health Facts"}),e.jsx("div",{className:"space-y-4",children:o.length>0?e.jsxs(e.Fragment,{children:[o.slice(0,S?5:3).map((d,p)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-blue-100 dark:bg-blue-900 rounded-full mr-3",children:e.jsx("span",{className:"text-blue-600 dark:text-blue-300 font-bold",children:p+1})}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:d})]},p)),o.length>3&&e.jsx("button",{onClick:()=>A(!S),className:"text-blue-600 dark:text-blue-400 hover:underline text-sm",children:S?"Show less":"View more health facts"})]}):e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Connect your health account to see interesting health facts."})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:"Weekly Summary"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:I?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600",children:[e.jsx("h3",{className:"font-medium text-gray-800 dark:text-white mb-2",children:"Active minutes"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:I.summary[0]||"No activity data available"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600",children:[e.jsx("h3",{className:"font-medium text-gray-800 dark:text-white mb-2",children:"Sleep Analysis"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:I.summary[1]||"No sleep data available"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600",children:[e.jsx("h3",{className:"font-medium text-gray-800 dark:text-white mb-2",children:"Heart Health"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:I.summary[2]||"No heart rate data available"})]})]}):e.jsx("div",{className:"col-span-3 text-center p-4",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:u?"Loading weekly summary...":"No weekly summary data available. Please check your health data connections."})})})]})]})]}),e.jsx("div",{className:"fixed bottom-8 right-8 z-50",children:e.jsxs("div",{className:"flex flex-col gap-4 items-end",children:[e.jsx("button",{onClick:()=>{const d=document.querySelector("[data-health-interpreter]");d&&d.click()},className:"w-14 h-14 bg-purple-600 hover:bg-purple-700 text-white rounded-full shadow-lg flex items-center justify-center transition-all duration-300 transform hover:scale-110","aria-label":"Ask about health metrics",title:"Ask about health metrics",children:e.jsx(L,{className:"text-xl"})}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>g(!c),className:"w-14 h-14 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-lg flex items-center justify-center transition-all duration-300 transform hover:scale-110","aria-label":"Add health metric",title:"Add health metric",children:e.jsx(je,{className:"text-xl"})}),c&&e.jsxs("div",{className:"absolute bottom-16 right-0 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[e.jsxs("button",{onClick:()=>V("steps"),className:"w-full px-4 py-2 text-left text-gray-800 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center",children:[e.jsx(z,{className:"mr-2"})," Steps"]}),e.jsxs("button",{onClick:()=>V("sleep"),className:"w-full px-4 py-2 text-left text-gray-800 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center",children:[e.jsx(_,{className:"mr-2"})," Sleep"]}),e.jsxs("button",{onClick:()=>V("heartRate"),className:"w-full px-4 py-2 text-left text-gray-800 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center",children:[e.jsx(q,{className:"mr-2"})," Heart Rate"]}),e.jsxs("button",{onClick:()=>V("weight"),className:"w-full px-4 py-2 text-left text-gray-800 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center",children:[e.jsx(U,{className:"mr-2"})," Weight"]}),e.jsxs("button",{onClick:()=>V("calories"),className:"w-full px-4 py-2 text-left text-gray-800 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center",children:[e.jsx(G,{className:"mr-2"})," Calories"]}),e.jsxs("button",{onClick:()=>V("activeMinutes"),className:"w-full px-4 py-2 text-left text-gray-800 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center",children:[e.jsx(J,{className:"mr-2"})," Active Minutes"]})]}),y&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl w-96",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:["Add ",y.charAt(0).toUpperCase()+y.slice(1)]}),e.jsx("input",{type:"number",value:C,onChange:d=>M(d.target.value),placeholder:`Enter ${y} value`,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"}),e.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>{N(null),M("")},className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md",children:"Cancel"}),e.jsx("button",{onClick:re,disabled:H||!C,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:H?"Adding...":"Add"})]})]})})]})]})})]})}export{Te as default};
//# sourceMappingURL=Dashboard-BjLxRJxv.js.map
