import{u as j,f as w,b as s,c as v,j as e,t as k}from"./index-TQdBg8Zg.js";import{L as N,B as M,C,a as S,b as A,P as D,c as F,f as I,p as L,d as B,e as T,i as E}from"./index-DwUbQazq.js";import{S as _}from"./Sidebar-hTNdrGUa.js";import{y as $,F as P,a as R,d as W,j as Y}from"./index-CCjtcycM.js";C.register(S,A,D,F,I,L,B,T,E);const q=()=>{const x=j(),{isSidebarOpen:h}=w(),[r,d]=s.useState(null),[l,n]=s.useState("week"),[u,c]=s.useState(!0),[o,m]=s.useState(!1);s.useEffect(()=>{const t=v();m(t)},[]);const b=()=>{const t=k(o);m(t)};s.useEffect(()=>{(async()=>{c(!0);try{const g=(await(await fetch("https://healthrec.onrender.com/health_data",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json()).filter(a=>a.activity_minutes!==null&&a.activity_minutes>0),p=g.map(a=>new Date(a.date).toLocaleDateString()),f=g.map(a=>a.activity_minutes);d({labels:p,datasets:[{label:"Active Minutes",data:f,fill:!1,borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.1}]})}catch(i){console.error("Failed to fetch active minutes data:",i),d(null)}finally{c(!1)}})()},[l]);const y={labels:["Light","Moderate","Vigorous"],datasets:[{label:"Minutes",data:[30,45,15],backgroundColor:["rgba(147, 197, 253, 0.6)","rgba(16, 185, 129, 0.6)","rgba(239, 68, 68, 0.6)"],borderColor:["rgba(147, 197, 253, 1)","rgba(16, 185, 129, 1)","rgba(239, 68, 68, 1)"],borderWidth:1}]};return e.jsxs("div",{className:"flex min-h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsx(_,{}),e.jsx("main",{className:`flex-1 transition-all duration-300 ${h?"ml-64":"ml-20"} p-6 overflow-auto`,children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>x("/metrics"),className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx($,{className:"mr-2"}),"Back to Metrics"]}),e.jsx("h1",{className:"text-3xl font-semibold text-gray-800 dark:text-white",children:"Active Minutes"})]}),e.jsx("button",{onClick:b,className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-full transition-colors","aria-label":o?"Switch to light mode":"Switch to dark mode",children:o?e.jsx(P,{className:"h-5 w-5"}):e.jsx(R,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(W,{className:"text-yellow-500 mt-1 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"AI-Powered Insights"}),e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"The insights and recommendations provided are generated using artificial intelligence. While we strive for accuracy, these should not replace professional medical advice. Always consult with your healthcare provider for medical decisions."})]})]})}),e.jsx("div",{className:"flex justify-end mb-6",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>n("week"),className:`px-4 py-2 rounded-lg ${l==="week"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white"}`,children:"Week"}),e.jsx("button",{onClick:()=>n("month"),className:`px-4 py-2 rounded-lg ${l==="month"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white"}`,children:"Month"}),e.jsx("button",{onClick:()=>n("year"),className:`px-4 py-2 rounded-lg ${l==="year"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white"}`,children:"Year"})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:u?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):r?e.jsx(N,{data:r,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Active Minutes Over Time"}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Minutes"}}}}}):e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center",children:"No data available"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"Activity Intensity"}),e.jsx(M,{data:y,options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Minutes"}}}}})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"Insights"}),e.jsx("ul",{className:"space-y-2 text-gray-600 dark:text-gray-400",children:r?e.jsxs(e.Fragment,{children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-green-500 mt-2 mr-2"}),"Your daily active minutes average is ",Math.round(r.datasets[0].data.reduce((t,i)=>t+i,0)/r.datasets[0].data.length)," minutes."]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-blue-500 mt-2 mr-2"}),"You're meeting the recommended 150 minutes of moderate activity per week."]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-yellow-500 mt-2 mr-2"}),"Try to include more vigorous activity to improve your cardiovascular health."]})]}):e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-gray-500 mt-2 mr-2"}),"No activity data available. Connect your Google Fit account to see insights."]})})]})]}),e.jsx("footer",{className:"mt-12 mb-8 text-center",children:e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.jsx(Y,{className:"inline-block mr-1"}),"AI-powered insights are provided for informational purposes only and should not replace professional medical advice."]})})})]})})]})};export{q as default};
//# sourceMappingURL=ActiveMinutesMetric-BNl4cEi3.js.map
